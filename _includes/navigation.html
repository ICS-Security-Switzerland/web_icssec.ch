
{% assign lang = page.lang | default: 'en' %}
{% case lang %}
  {% when 'de' %}
    {% assign prefix = '/de/' %}
    {% assign about_label = 'Ãœber uns' %}
    {% assign events_label = 'Veranstaltungen' %}
    {% assign members_label = 'Mitglied werden' %}
    {% assign contacts_label = 'Kontakt' %}
  {% when 'fr' %}
    {% assign prefix = '/fr/' %}
    {% assign about_label = 'Ã€ propos' %}
    {% assign events_label = 'Ã‰vÃ©nements' %}
    {% assign members_label = 'Devenir membre' %}
    {% assign contacts_label = 'Contacts' %}
  {% when 'it' %}
    {% assign prefix = '/it/' %}
    {% assign about_label = 'Chi siamo' %}
    {% assign events_label = 'Eventi' %}
    {% assign members_label = 'Diventa membro' %}
    {% assign contacts_label = 'Contatti' %}
  {% else %}
    {% assign prefix = '/' %}
    {% assign about_label = 'About us' %}
    {% assign events_label = 'Upcoming Events' %}
    {% assign members_label = 'Join' %}
    {% assign contacts_label = 'Contact' %}
{% endcase %}

<a class="site-title" href="{{ prefix | relative_url }}">
    <img class="logo" src="{{ "/assets/images/logo_ics_security_transparent.png" | relative_url }}"
         alt="ICS Security Switzerland Logo">
</a>

<nav class="site-nav">
  <input type="checkbox" id="nav-trigger" class="nav-trigger">
  <label for="nav-trigger">
    <span class="menu-icon">â˜°</span>
  </label>

  <div class="trigger">
    <a href="{{ prefix }}about/" class="page-link">{{ about_label }}</a>
    <a href="{{ prefix }}events/" class="page-link">{{ events_label }}</a>
    <a href="{{ prefix }}members/"  class="page-link">{{ members_label }}</a>
    <a href="{{ prefix }}contacts/" class="page-link">{{ contacts_label }}</a>

    <!-- language dropdown -->
    <div class="lang-dropdown" style="display:inline-block;position:relative;">
      <button class="lang-btn" style="background:none;border:none;cursor:pointer;font-size:1.2em;">
        {% if lang == 'de' %}ğŸ‡©ğŸ‡ª{% elsif lang == 'fr' %}ğŸ‡«ğŸ‡·{% elsif lang == 'it' %}ğŸ‡®ğŸ‡¹{% else %}ğŸ‡¬ğŸ‡§{% endif %}
      </button>
      <div class="lang-menu" style="display:none;position:absolute;z-index:10;background:#fff;border:1px solid #ccc;min-width:48px;">
        <a href="/de/" class="lang-link" style="display:block;padding:6px 12px;" title="Deutsch" aria-label="Deutsch">ğŸ‡©ğŸ‡ª</a>
        <a href="/fr/" class="lang-link" style="display:block;padding:6px 12px;" title="FranÃ§ais" aria-label="FranÃ§ais">ğŸ‡«ğŸ‡·</a>
        <a href="/it/" class="lang-link" style="display:block;padding:6px 12px;" title="Italiano" aria-label="Italiano">ğŸ‡®ğŸ‡¹</a>
        <a href="/" class="lang-link" style="display:block;padding:6px 12px;" title="English" aria-label="English">ğŸ‡¬ğŸ‡§</a>
      </div>
    </div>
  </nav>
  <script>
  // Simple dropdown toggle (flag only, no text)
  document.addEventListener('DOMContentLoaded', function() {
    var btn = document.querySelector('.lang-btn');
    var menu = document.querySelector('.lang-menu');
    if(btn && menu) {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
      });
      document.addEventListener('click', function(e) {
        if (!btn.contains(e.target) && !menu.contains(e.target)) {
          menu.style.display = 'none';
        }
      });
    }
  });
  </script>
  </div>
</nav>
